Cloud Data Team, Cloud Technology Business Unit, Delta Electronic Inc.

Storage Gateway:

1) The authfile is placed at /root/.s3ql/authinfo2.
   To read or write the authfile, you must have the root priviledge. 

2) The config file is placed at /etc/delta/Gateway.ini.
   To read or write the config file, you must have the root priviledge.

3) log generated by s3ql is record in syslog

4) log generated by our package is defaultly recorded in /var/log/delta/gateway.log

5) shell scripts are placed in /usr/lib/delta/gateway_scripts

6) The network information assigned by GUI will be stored in /etc/delta/network.info

7) The fixed IP will use eth0, while the IP assigned by GUI will use eth1.

8) To reset gateway to its original status, execute a script like:
cd /home/nii/DCloudGateway-git/StorageAppliance/DCloudGateway/
sudo python setup.py install
sudo umount.s3ql /mnt/cloudgwfiles
sudo s3qladm clear swift://172.16.228.53:8080/gateway/delta
sudo rm -rf /root/.s3ql/authinfo2
sudo rm -rf /etc/init/s3ql.conf
sudo rm -rf /etc/delta/network.info

9) Please install the latest "sudo" package (>=1.8.x)

10) Since GUI is running in www-data account, please use sudo for shell calls and change /etc/sudoers to allow
no password sudo for www-data

Example /etc/sudoers:
======================================================================

#
# This file MUST be edited with the 'visudo' command as root.
#
# Please consider adding local content in /etc/sudoers.d/ instead of
# directly modifying this file.
#
# See the man page for details on how to write a sudoers file.
#
Defaults	env_reset

# Host alias specification

# User alias specification

# Cmnd alias specification

# User privilege specification
root	ALL=(ALL:ALL) ALL
www-data ALL=(ALL) NOPASSWD:ALL

# Members of the admin group may gain root privileges
%admin ALL=(ALL) ALL

# Allow members of group sudo to execute any command
%sudo	ALL=(ALL:ALL) ALL



#includedir /etc/sudoers.d

===================================================================
# Dependent packages:
1) squid3 (use /home/yen/WorkFiles/StorageAppliance/DCloudGateway/src/http_proxy/install_proxy.py to install)
2) apt-show-versions (sudo apt-get install apt-show-versions)
