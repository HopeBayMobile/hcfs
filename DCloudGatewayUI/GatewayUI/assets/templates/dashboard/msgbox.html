<div id="msgbox" class="slide-box">
    <div id="msgbox-body" class="slide-box-body">
        {% for msg in msgs %}

        {% empty %}
        <div class="msg-block">
            <div class="msg-icon">1</div>
            <div class="msg-title">2</div>
            <div class="msg-time">2012-05-14</div>
        </div>
        <div class="msg-block">
            <div class="msg-icon">1</div>
            <div class="msg-title">2</div>
            <div class="msg-time">2012-05-14</div>
        </div>
        <div class="msg-block">
            <div class="msg-icon">1</div>
            <div class="msg-title">2</div>
            <div class="msg-time">2012-05-14</div>
        </div>
        {% endfor %}
    </div>
    <div class="slide-box-footer">
        <div id="msg_btn" class="toggle-btn"></div>
    </div>
    <script type="text/javascript">
        (function(){
            // var box_init_height = $('#msgbox-body').css('height') || "0px";
            $("#msg_btn").on("click", function(e){
                var margin_height = $(".slide-box-body").height();
                if ($(".slide-box-body").is(":visible")){
                    $(".slide-box").animate({"top": "-="+margin_height+"px"}, 1000, function(){
                        $(".slide-box-body").hide()
                        $(".slide-box").css("top", "+="+margin_height+"px")
                    })
                    $(".tab-content").show(1000)
                } else {
                    $(".slide-box").css("top", "-="+margin_height+"px")
                    $(".slide-box-body").show()
                    $(".slide-box").animate({"top": "+="+margin_height+"px"}, 1000)
                    $(".tab-content").hide(1000)
                }
            });
        })();
    </script>
</div>